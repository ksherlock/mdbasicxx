# MD-BASIC++

A pre-processor for MD-BASIC.

## Roadmap:


### Mini Assembler

Generates appropriate `DATA` or `& POKE` (amperworks) statements.


#### Example

input:

        #asm
                .org $300
                .export start, end
        start
                lda #0
                rts
        end
        #endasm

        #asm
                .org $300
                .poke

                lda #0
                rts

        #endasm

output:


        ' generated by mdbasic++ 0.0.1
        #define __MDBASICXX__
        #define __DATE__ "Aug  5 2017"
        #define __TIME__ "08:19:37"
        #define START 768
        #define END 771

            DATA 169,0,96
            & POKE 768,169,0,96


#### Directives

            .machine    [6502 | 65c02 | 65816]      ; specify machine (default 6502)
            .org        number                      ; set origin
            .long       [mx]                        ; '816 - assume long m or x
            .short      [mx]                        ; '816 - assume short m or x
            .poke                                   ; use & POKE
    label   .equ        number
            .export     label [, label...]          ; export label (as #define)


### More command-line flags

    -D macroname[=value]             Define a macro
    -E                               Pre-processor only
    -S                               Decompile generated code
    -I directory                     Specify include path (not yet ....)
    -o outfile                       Specify outfile
    -O level                         Specify optimization level (0,1,2)
    -v, --verbose                    Be verbose
    -V, --version                    Display version
        --[no-]declare               Require declarations
        --[no-]progress              Print progress
        --[no-]summary               Print summary
        --[no-]xref                  Print Cross References
    -h, --help                       Display help information
    

